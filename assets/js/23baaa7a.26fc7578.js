"use strict";(self.webpackChunkkmp_iap_docs=self.webpackChunkkmp_iap_docs||[]).push([[2719],{963:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var i=s(4848),r=s(8453),o=s(5159);const t={sidebar_position:10,title:"FAQ"},l="Frequently Asked Questions",a={id:"guides/faq",title:"FAQ",description:"Common questions and answers about kmp-iap.",source:"@site/versioned_docs/version-1.0.0/guides/faq.md",sourceDirName:"guides",slug:"/guides/faq",permalink:"/kmp-iap/docs/1.0.0/guides/faq",draft:!1,unlisted:!1,editUrl:"https://github.com/hyochan/kmp-iap/tree/main/docs/versioned_docs/version-1.0.0/guides/faq.md",tags:[],version:"1.0.0",sidebarPosition:10,frontMatter:{sidebar_position:10,title:"FAQ"},sidebar:"docsSidebar",previous:{title:"Troubleshooting",permalink:"/kmp-iap/docs/1.0.0/guides/troubleshooting"},next:{title:"API Reference",permalink:"/kmp-iap/docs/1.0.0/api/"}},c={},d=[{value:"General Questions",id:"general-questions",level:2},{value:"Q: What platforms does kmp-iap support?",id:"q-what-platforms-does-kmp-iap-support",level:3},{value:"Q: How is kmp-iap different from flutter_inapp_purchase?",id:"q-how-is-kmp-iap-different-from-flutter_inapp_purchase",level:3},{value:"Q: Is this library free to use?",id:"q-is-this-library-free-to-use",level:3},{value:"Setup &amp; Configuration",id:"setup--configuration",level:2},{value:"Q: Do I need to configure anything in Xcode or Android Studio?",id:"q-do-i-need-to-configure-anything-in-xcode-or-android-studio",level:3},{value:"Q: Can I test purchases without publishing my app?",id:"q-can-i-test-purchases-without-publishing-my-app",level:3},{value:"Q: How long does it take for products to appear after configuration?",id:"q-how-long-does-it-take-for-products-to-appear-after-configuration",level:3},{value:"Products &amp; Subscriptions",id:"products--subscriptions",level:2},{value:"Q: What&#39;s the difference between consumable and non-consumable products?",id:"q-whats-the-difference-between-consumable-and-non-consumable-products",level:3},{value:"Q: How do I handle different product types?",id:"q-how-do-i-handle-different-product-types",level:3},{value:"Q: Can I offer subscription trials?",id:"q-can-i-offer-subscription-trials",level:3},{value:"Q: How do I handle subscription renewals?",id:"q-how-do-i-handle-subscription-renewals",level:3},{value:"Purchases &amp; Transactions",id:"purchases--transactions",level:2},{value:"Q: Why isn&#39;t my purchase completing?",id:"q-why-isnt-my-purchase-completing",level:3},{value:"Q: How do I restore purchases?",id:"q-how-do-i-restore-purchases",level:3},{value:"Q: Can users purchase the same product multiple times?",id:"q-can-users-purchase-the-same-product-multiple-times",level:3},{value:"Q: How do I handle pending purchases on Android?",id:"q-how-do-i-handle-pending-purchases-on-android",level:3},{value:"Security &amp; Validation",id:"security--validation",level:2},{value:"Q: Do I need to validate receipts?",id:"q-do-i-need-to-validate-receipts",level:3},{value:"Q: How do I validate iOS receipts?",id:"q-how-do-i-validate-ios-receipts",level:3},{value:"Q: How do I validate Android purchases?",id:"q-how-do-i-validate-android-purchases",level:3},{value:"Q: Can I trust client-side purchase data?",id:"q-can-i-trust-client-side-purchase-data",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Q: What does &quot;Billing is unavailable&quot; mean?",id:"q-what-does-billing-is-unavailable-mean",level:3},{value:"Q: Why do I get &quot;Product not found&quot; errors?",id:"q-why-do-i-get-product-not-found-errors",level:3},{value:"Q: How do I handle purchase cancellations?",id:"q-how-do-i-handle-purchase-cancellations",level:3},{value:"Development &amp; Testing",id:"development--testing",level:2},{value:"Q: Can I test purchases on simulators/emulators?",id:"q-can-i-test-purchases-on-simulatorsemulators",level:3},{value:"Q: How do I test subscriptions?",id:"q-how-do-i-test-subscriptions",level:3},{value:"Q: Do test purchases cost real money?",id:"q-do-test-purchases-cost-real-money",level:3},{value:"Q: How do I clear test purchase history?",id:"q-how-do-i-clear-test-purchase-history",level:3},{value:"Performance &amp; Best Practices",id:"performance--best-practices",level:2},{value:"Q: When should I initialize the IAP connection?",id:"q-when-should-i-initialize-the-iap-connection",level:3},{value:"Q: How do I handle app lifecycle events?",id:"q-how-do-i-handle-app-lifecycle-events",level:3},{value:"Kotlin Multiplatform Specific",id:"kotlin-multiplatform-specific",level:2},{value:"Q: Can I use kmp-iap with SwiftUI?",id:"q-can-i-use-kmp-iap-with-swiftui",level:3},{value:"Q: Does it work with Compose Multiplatform?",id:"q-does-it-work-with-compose-multiplatform",level:3},{value:"Q: How do I share IAP logic between platforms?",id:"q-how-do-i-share-iap-logic-between-platforms",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Q: My app was rejected for IAP issues. What should I check?",id:"q-my-app-was-rejected-for-iap-issues-what-should-i-check",level:3},{value:"Q: Why are my products not loading in production but work in testing?",id:"q-why-are-my-products-not-loading-in-production-but-work-in-testing",level:3},{value:"Q: How do I debug IAP issues?",id:"q-how-do-i-debug-iap-issues",level:3},{value:"Support &amp; Community",id:"support--community",level:2},{value:"Q: Where can I get help?",id:"q-where-can-i-get-help",level:3},{value:"Q: How do I report bugs?",id:"q-how-do-i-report-bugs",level:3},{value:"Q: Can I contribute to the project?",id:"q-can-i-contribute-to-the-project",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,i.jsx)(o.A,{}),"\n",(0,i.jsx)(n.p,{children:"Common questions and answers about kmp-iap."}),"\n",(0,i.jsx)(n.h2,{id:"general-questions",children:"General Questions"}),"\n",(0,i.jsx)(n.h3,{id:"q-what-platforms-does-kmp-iap-support",children:"Q: What platforms does kmp-iap support?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," The library supports:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS"}),": 15.0+ with StoreKit 2"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android"}),": API 21+ (Android 5.0) with Google Play Billing Library v7+"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Desktop & Web"}),": Planned for future releases"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Windows, Linux, and Web support is on the roadmap as Kotlin Multiplatform expands to these platforms."}),"\n",(0,i.jsx)(n.h3,{id:"q-how-is-kmp-iap-different-from-flutter_inapp_purchase",children:"Q: How is kmp-iap different from flutter_inapp_purchase?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Key differences:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Technology"}),": kmp-iap uses Kotlin Multiplatform vs Flutter/Dart"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"State Management"}),": StateFlow vs Streams"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Integration"}),": Works with Compose Multiplatform, native Android/iOS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"API Design"}),": Coroutines-based vs Future/async-await"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-is-this-library-free-to-use",children:"Q: Is this library free to use?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, kmp-iap is open source and free to use under the MIT license. However, both Apple and Google charge fees for in-app purchases (typically 15-30%)."]}),"\n",(0,i.jsx)(n.h2,{id:"setup--configuration",children:"Setup & Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"q-do-i-need-to-configure-anything-in-xcode-or-android-studio",children:"Q: Do I need to configure anything in Xcode or Android Studio?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, minimal setup is required:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enable In-App Purchase capability in Xcode"}),"\n",(0,i.jsx)(n.li,{children:"Configure products in App Store Connect"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:'<uses-permission android:name="com.android.vending.BILLING" />'})," to AndroidManifest.xml"]}),"\n",(0,i.jsx)(n.li,{children:"Configure products in Google Play Console"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See our ",(0,i.jsx)(n.a,{href:"/kmp-iap/docs/1.0.0/getting-started/ios-setup",children:"setup guides"})," for detailed instructions."]}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-test-purchases-without-publishing-my-app",children:"Q: Can I test purchases without publishing my app?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes:"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Use sandbox testing with sandbox Apple IDs\n",(0,i.jsx)(n.strong,{children:"Android:"})," Upload to Internal Testing track in Play Console"]}),"\n",(0,i.jsx)(n.p,{children:"Both platforms require proper store setup but don't require public app release."}),"\n",(0,i.jsx)(n.h3,{id:"q-how-long-does-it-take-for-products-to-appear-after-configuration",children:"Q: How long does it take for products to appear after configuration?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Product availability varies:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Usually within a few hours, up to 24 hours"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android:"})," Can take 24-48 hours after app upload"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Products must be properly configured and approved in the respective stores."}),"\n",(0,i.jsx)(n.h2,{id:"products--subscriptions",children:"Products & Subscriptions"}),"\n",(0,i.jsx)(n.h3,{id:"q-whats-the-difference-between-consumable-and-non-consumable-products",children:"Q: What's the difference between consumable and non-consumable products?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"A:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Consumable"}),": Can be purchased multiple times (coins, gems, power-ups)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Non-consumable"}),": Purchased once, owned forever (remove ads, premium features)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscriptions"}),": Recurring purchases with auto-renewal"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-handle-different-product-types",children:"Q: How do I handle different product types?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Use the ",(0,i.jsx)(n.code,{children:"isConsumable"})," parameter:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"// For consumable products\nval success = kmpIapInstance.finishTransaction(\n    purchase = purchase.toPurchaseInput(),\n    isConsumable = true\n)\n\n// For non-consumable products and subscriptions\nval success = kmpIapInstance.finishTransaction(\n    purchase = purchase.toPurchaseInput(),\n    isConsumable = false\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-offer-subscription-trials",children:"Q: Can I offer subscription trials?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, but setup varies by platform:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Configure introductory offers in App Store Connect"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android:"})," Configure free trials in Play Console"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The library will return trial information in the product data."}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-handle-subscription-renewals",children:"Q: How do I handle subscription renewals?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Subscriptions auto-renew by default. To check status:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"scope.launch {\n    val purchases = kmpIapInstance.getAvailablePurchases()\n        val activeSubscriptions = purchases.filter { purchase ->\n            subscriptionIds.contains(purchase.productId) &&\n            isActive(purchase)\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Implement server-side receipt validation for accurate expiration checking."}),"\n",(0,i.jsx)(n.h2,{id:"purchases--transactions",children:"Purchases & Transactions"}),"\n",(0,i.jsx)(n.h3,{id:"q-why-isnt-my-purchase-completing",children:"Q: Why isn't my purchase completing?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Common causes:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Not finishing transactions:"})," Always call ",(0,i.jsx)(n.code,{children:"finishTransaction()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No state observers:"})," Set up StateFlow collectors before requesting purchases"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network issues:"})," Ensure device has internet connectivity"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Account issues:"})," Verify store account is properly set up"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-restore-purchases",children:"Q: How do I restore purchases?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Purchases are automatically available via StateFlow:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'suspend fun restorePurchases() {\n    try {\n        // Get available purchases\n        val purchases = kmpIapInstance.getAvailablePurchases()\n        purchases.forEach { purchase ->\n            // Re-deliver non-consumable products\n            if (isNonConsumable(purchase.productId)) {\n                deliverProduct(purchase)\n            }\n        }\n    } catch (e: PurchaseError) {\n        println("Restore failed: $e")\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"q-can-users-purchase-the-same-product-multiple-times",children:"Q: Can users purchase the same product multiple times?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Depends on product type:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Consumable:"})," Yes, after finishing transaction as consumable"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Non-consumable:"})," No, will get ",(0,i.jsx)(n.code,{children:"PRODUCT_ALREADY_OWNED"})," error"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscription:"})," Can upgrade/downgrade, but not duplicate"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-handle-pending-purchases-on-android",children:"Q: How do I handle pending purchases on Android?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Monitor purchase state:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"private fun handlePurchase(purchase: Purchase) {\n    when (purchase.purchaseState) {\n        PurchaseState.PURCHASED -> {\n            // Purchase completed\n            deliverProduct(purchase)\n        }\n        PurchaseState.PENDING -> {\n            // Purchase pending - show pending UI\n            showPendingMessage()\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"security--validation",children:"Security & Validation"}),"\n",(0,i.jsx)(n.h3,{id:"q-do-i-need-to-validate-receipts",children:"Q: Do I need to validate receipts?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, for production apps you should always validate receipts server-side to prevent fraud. The library provides receipt data, but validation must be implemented separately."]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-validate-ios-receipts",children:"Q: How do I validate iOS receipts?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Send receipt to Apple's verification servers:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// Get receipt data\nval receipt = purchase.transactionReceipt\n\n// Send to your server for validation with Apple\nval isValid = api.validateIOSReceipt(\n    receipt = receipt,\n    sharedSecret = "your-shared-secret"\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-validate-android-purchases",children:"Q: How do I validate Android purchases?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Use the purchase token with Google Play Developer API:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"// Get purchase token\nval token = purchase.purchaseToken\n\n// Validate on your server using Google Play Developer API\nval isValid = api.validateAndroidPurchase(\n    token = token,\n    productId = purchase.productId\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-trust-client-side-purchase-data",children:"Q: Can I trust client-side purchase data?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," No, never trust client-side data for security-critical operations. Always validate receipts server-side before granting paid content."]}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.h3,{id:"q-what-does-billing-is-unavailable-mean",children:'Q: What does "Billing is unavailable" mean?'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," This indicates the billing system isn't ready. Common causes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Google Play Store not installed/updated (Android)"}),"\n",(0,i.jsx)(n.li,{children:"App not uploaded to store (Android)"}),"\n",(0,i.jsx)(n.li,{children:"Network connectivity issues"}),"\n",(0,i.jsx)(n.li,{children:"Store service temporarily unavailable"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-why-do-i-get-product-not-found-errors",children:'Q: Why do I get "Product not found" errors?'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Product ID mismatches are common:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify exact product ID spelling"}),"\n",(0,i.jsx)(n.li,{children:"Check product is active in store console"}),"\n",(0,i.jsx)(n.li,{children:"Wait for product propagation (up to 24 hours)"}),"\n",(0,i.jsx)(n.li,{children:"Ensure app bundle ID matches store configuration"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-handle-purchase-cancellations",children:"Q: How do I handle purchase cancellations?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Monitor error state:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"scope.launch {\n    kmpIapInstance.purchaseErrorListener.collect { error ->\n        when (error.code) {\n            ErrorCode.UserCancelled -> {\n                // User cancelled - no error message needed\n            }\n            else -> {\n                // Show error message\n                showErrorDialog(error.message)\n            }\n        }\n        // No need to clear error with new API\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"development--testing",children:"Development & Testing"}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-test-purchases-on-simulatorsemulators",children:"Q: Can I test purchases on simulators/emulators?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"A:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS Simulator:"})," Limited support, use StoreKit testing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android Emulator:"})," Not recommended, use real devices"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Best practice:"})," Always test on real devices with test accounts"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-test-subscriptions",children:"Q: How do I test subscriptions?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Both platforms offer accelerated testing:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Subscriptions renew every few minutes in sandbox"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android:"})," Test subscriptions renew quickly in test environment"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-do-test-purchases-cost-real-money",children:"Q: Do test purchases cost real money?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," No:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Sandbox purchases are free"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android:"})," License tester purchases are free and auto-refund"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-clear-test-purchase-history",children:"Q: How do I clear test purchase history?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"A:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"iOS:"})," Settings > App Store > Sandbox Account > Reset"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Android:"})," Google Play Store > Account > Purchase history (cancel test purchases)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance--best-practices",children:"Performance & Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"q-when-should-i-initialize-the-iap-connection",children:"Q: When should I initialize the IAP connection?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Initialize as early as possible, typically in your ViewModel initialization. Don't initialize on every screen."]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-handle-app-lifecycle-events",children:"Q: How do I handle app lifecycle events?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Clean up properly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"class PurchaseViewModel : ViewModel() {\n    init {\n        viewModelScope.launch {\n            kmpIapInstance.initConnection()\n        }\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        kmpIapInstance.endConnection()\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kotlin-multiplatform-specific",children:"Kotlin Multiplatform Specific"}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-use-kmp-iap-with-swiftui",children:"Q: Can I use kmp-iap with SwiftUI?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, the library works with SwiftUI through Kotlin/Native interop:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-swift",children:'// In your SwiftUI view\nlet iapManager = IAPManager() // Your KMP wrapper\n\nButton("Purchase") {\n    iapManager.purchaseProduct(productId: "premium")\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"q-does-it-work-with-compose-multiplatform",children:"Q: Does it work with Compose Multiplatform?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes, kmp-iap is designed to work seamlessly with Compose Multiplatform:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'@Composable\nfun PurchaseButton(productId: String) {\n    val scope = rememberCoroutineScope()\n\n    Button(onClick = {\n        scope.launch {\n            kmpIapInstance.requestPurchase {\n                ios {\n                    sku = productId\n                    quantity = 1\n                }\n                android {\n                    skus = listOf(productId)\n                }\n            }\n        }\n    }) {\n        Text("Purchase")\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-share-iap-logic-between-platforms",children:"Q: How do I share IAP logic between platforms?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Create a common interface:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:"// In commonMain\nexpect class IAPManager {\n    suspend fun purchaseProduct(productId: String)\n    fun observePurchases(): Flow<Purchase?>\n}\n\n// Platform-specific implementations\nactual class IAPManager {\n    // iOS/Android specific implementation\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"q-my-app-was-rejected-for-iap-issues-what-should-i-check",children:"Q: My app was rejected for IAP issues. What should I check?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Common rejection reasons:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Missing restore functionality:"})," Always provide restore purchases option"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Incorrect product types:"})," Ensure consumable/non-consumable types match usage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Price display:"})," Show localized prices from store data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Terms compliance:"})," Follow platform guidelines for IAP UI"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-why-are-my-products-not-loading-in-production-but-work-in-testing",children:"Q: Why are my products not loading in production but work in testing?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Check:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"App review status:"})," App must be approved and live"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Product review status:"})," Products must be approved"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Regional availability:"})," Products might not be available in all regions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Time delay:"})," Products can take 24+ hours to propagate globally"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-debug-iap-issues",children:"Q: How do I debug IAP issues?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Enable debug logging:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// Add logging to your IAP operations\nscope.launch {\n    kmpIapInstance.purchaseErrorListener.collect { error ->\n        println("[IAP Debug] Error: ${error.code} - ${error.message}")\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Check console output for detailed error information."}),"\n",(0,i.jsx)(n.h2,{id:"support--community",children:"Support & Community"}),"\n",(0,i.jsx)(n.h3,{id:"q-where-can-i-get-help",children:"Q: Where can I get help?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Multiple support channels:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/issues",children:"GitHub Issues"})," for bugs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/discussions",children:"GitHub Discussions"})," for questions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://discord.gg/hyo",children:"Discord Community"})," for real-time chat"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-how-do-i-report-bugs",children:"Q: How do I report bugs?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Create detailed GitHub issues with:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Platform and version information"}),"\n",(0,i.jsx)(n.li,{children:"Steps to reproduce"}),"\n",(0,i.jsx)(n.li,{children:"Expected vs actual behavior"}),"\n",(0,i.jsx)(n.li,{children:"Relevant code snippets"}),"\n",(0,i.jsx)(n.li,{children:"Console logs with debug mode enabled"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"q-can-i-contribute-to-the-project",children:"Q: Can I contribute to the project?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," Yes! Contributions are welcome:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Report bugs and issues"}),"\n",(0,i.jsx)(n.li,{children:"Submit pull requests for fixes"}),"\n",(0,i.jsx)(n.li,{children:"Improve documentation"}),"\n",(0,i.jsx)(n.li,{children:"Help answer community questions"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/blob/main/CONTRIBUTING.md",children:"Contributing Guide"})," for details."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Still have questions?"})," Check our ",(0,i.jsx)(n.a,{href:"/kmp-iap/docs/1.0.0/guides/troubleshooting",children:"Troubleshooting Guide"})," or ",(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/discussions",children:"open a discussion"})," on GitHub."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},5159:(e,n,s)=>{s.d(n,{A:()=>t});s(6540);var i=s(6025),r=s(7856),o=s(4848);function t({className:e="iapkit-banner",style:n}){const s=(0,i.A)("/img/iapkit-banner.gif");return(0,o.jsx)("div",{className:e,style:n,children:(0,o.jsx)("a",{href:r.V,target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await fetch(r.I,{method:"POST",mode:"no-cors"})}catch(e){console.error("Failed to track banner click:",e)}},style:{display:"block",textAlign:"center",marginBottom:"20px",textDecoration:"none",cursor:"pointer"},children:(0,o.jsx)("img",{src:s,alt:"IAPKit - In-App Purchase Made Simple",style:{height:"auto",borderRadius:"8px",objectFit:"contain"}})})})}},7856:(e,n,s)=>{s.d(n,{I:()=>r,V:()=>i});const i="https://iapkit.com",r="https://www.hyo.dev/api/ad-banner/cmjf0l20n0002249hjrwmgob3"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);