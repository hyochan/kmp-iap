"use strict";(self.webpackChunkkmp_iap_docs=self.webpackChunkkmp_iap_docs||[]).push([[2500],{1349:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var i=t(4848),r=t(8453),s=t(5159),a=t(4693);const o={title:"kmp-iap",sidebar_label:"Introduction",sidebar_position:1},d="\ud83d\uded2 kmp-iap",l={id:"intro",title:"kmp-iap",description:"This documentation is for kmp-iap v1.2.0 which includes Google Play Billing 8.2.0 features: Billing Programs API and one-time product discounts. Native code is powered by openiap-google and openiap-apple modules.",source:"@site/versioned_docs/version-1.2.0/intro.md",sourceDirName:".",slug:"/intro",permalink:"/kmp-iap/docs/1.2.0/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/hyochan/kmp-iap/tree/main/docs/versioned_docs/version-1.2.0/intro.md",tags:[],version:"1.2.0",sidebarPosition:1,frontMatter:{title:"kmp-iap",sidebar_label:"Introduction",sidebar_position:1},sidebar:"docsSidebar",next:{title:"Installation",permalink:"/kmp-iap/docs/1.2.0/getting-started/installation"}},c={},p=[{value:"\ud83d\ude80 What is kmp-iap?",id:"-what-is-kmp-iap",level:2},{value:"\u2728 Key Features",id:"-key-features",level:2},{value:"\ud83c\udfaf What this library does",id:"-what-this-library-does",level:2},{value:"\ud83d\udee0\ufe0f Platform Support",id:"\ufe0f-platform-support",level:2},{value:"\ud83d\udd04 Version Information",id:"-version-information",level:2},{value:"\u26a1 Quick Start",id:"-quick-start",level:2},{value:"Option 1: Using Global Instance (Simple)",id:"option-1-using-global-instance-simple",level:3},{value:"Option 2: Create Your Own Instance (Recommended for Testing)",id:"option-2-create-your-own-instance-recommended-for-testing",level:3},{value:"\ud83d\ude80 Start Building Today",id:"-start-building-today",level:2},{value:"\ud83e\udd1d Community &amp; Support",id:"-community--support",level:2}];function h(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"-kmp-iap",children:"\ud83d\uded2 kmp-iap"}),"\n",(0,i.jsx)(s.A,{}),"\n",(0,i.jsx)(e.admonition,{title:"Version",type:"info",children:(0,i.jsxs)(e.p,{children:["This documentation is for ",(0,i.jsx)(e.strong,{children:"kmp-iap v1.2.0"})," which includes Google Play Billing 8.2.0 features: Billing Programs API and one-time product discounts. Native code is powered by ",(0,i.jsx)(e.a,{href:"https://github.com/hyodotdev/openiap-google",children:"openiap-google"})," and ",(0,i.jsx)(e.a,{href:"https://github.com/hyodotdev/openiap-apple",children:"openiap-apple"})," modules."]})}),"\n",(0,i.jsxs)(e.p,{children:["A comprehensive Kotlin Multiplatform library for in-app purchases on iOS and Android that ",(0,i.jsxs)(e.strong,{children:["conforms to the ",(0,i.jsx)(e.a,{href:"https://openiap.dev",children:"Open IAP specification"})]}),"."]}),"\n",(0,i.jsx)("div",{style:{textAlign:"center",margin:"2rem 0"},children:(0,i.jsx)("img",{src:a.A,alt:"kmp-iap Logo",style:{maxWidth:"200px",height:"auto"}})}),"\n",(0,i.jsx)(e.h2,{id:"-what-is-kmp-iap",children:"\ud83d\ude80 What is kmp-iap?"}),"\n",(0,i.jsxs)(e.p,{children:["This is an ",(0,i.jsx)(e.strong,{children:"In App Purchase"})," library for Kotlin Multiplatform. This project has been inspired by ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan/flutter_inapp_purchase",children:"flutter_inapp_purchase"})," and ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan/react-native-iap",children:"react-native-iap"}),". We are trying to share same experience of ",(0,i.jsx)(e.strong,{children:"in-app-purchase"})," in ",(0,i.jsx)(e.strong,{children:"Kotlin Multiplatform"})," as in ",(0,i.jsx)(e.strong,{children:"Flutter"})," and ",(0,i.jsx)(e.strong,{children:"React Native"}),"."]}),"\n",(0,i.jsxs)(e.p,{children:["We will keep working on it as time goes by just like we did in ",(0,i.jsx)(e.strong,{children:"flutter_inapp_purchase"})," and ",(0,i.jsx)(e.strong,{children:"react-native-iap"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"-key-features",children:"\u2728 Key Features"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Kotlin Multiplatform"}),": Share IAP logic across iOS and Android"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"StoreKit 2 Support"}),": Full StoreKit 2 support for iOS 15.0+ with automatic fallback"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Billing Client v8"}),": Latest Android Billing Client features"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type-safe"}),": Complete type safety with Kotlin's strong typing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Coroutines Support"}),": Modern async/await pattern with Kotlin Coroutines"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"StateFlow Integration"}),": Reactive state management with StateFlow"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Receipt Validation"}),": Built-in receipt validation for both platforms"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"-what-this-library-does",children:"\ud83c\udfaf What this library does"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Product Management"}),": Fetch and manage consumable and non-consumable products"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Purchase Flow"}),": Handle complete purchase workflows with proper error handling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Subscription Support"}),": Full subscription lifecycle management"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Receipt Validation"}),": Validate purchases on both platforms"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Store Communication"}),": Direct communication with App Store and Google Play"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Recovery"}),": Comprehensive error handling and recovery mechanisms"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\ufe0f-platform-support",children:"\ud83d\udee0\ufe0f Platform Support"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Feature"}),(0,i.jsx)(e.th,{children:"iOS"}),(0,i.jsx)(e.th,{children:"Android"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Products & Subscriptions"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Purchase Flow"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Receipt Validation"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Subscription Management"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Promotional Offers"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"N/A"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"StoreKit 2"}),(0,i.jsx)(e.td,{children:"\u2705"}),(0,i.jsx)(e.td,{children:"N/A"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Billing Client v8"}),(0,i.jsx)(e.td,{children:"N/A"}),(0,i.jsx)(e.td,{children:"\u2705"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"-version-information",children:"\ud83d\udd04 Version Information"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Current Version"}),": 1.2.0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Kotlin Compatibility"}),": Kotlin 2.1.10+"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"iOS Requirements"}),": iOS 15.0+ (via ",(0,i.jsx)(e.a,{href:"https://github.com/hyodotdev/openiap-apple",children:"openiap-apple"}),")"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Android Requirements"}),": API level 24+ (via ",(0,i.jsx)(e.a,{href:"https://github.com/hyodotdev/openiap-google",children:"openiap-google"}),")"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"-quick-start",children:"\u26a1 Quick Start"}),"\n",(0,i.jsx)(e.p,{children:"Get started with kmp-iap in minutes:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-kotlin",children:'// In your build.gradle.kts\ndependencies {\n    implementation("io.github.hyochan:kmp-iap:1.2.2")\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"option-1-using-global-instance-simple",children:"Option 1: Using Global Instance (Simple)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-kotlin",children:'import io.github.hyochan.kmpiap.kmpIapInstance\nimport io.github.hyochan.kmpiap.*\n\n// Initialize connection\nkmpIapInstance.initConnection()\n\n// Get products using DSL\nval products = kmpIapInstance.fetchProducts {\n    skus = listOf("product_id")\n    type = ProductQueryType.InApp\n}\n\n// Request purchase using DSL\nval purchase = kmpIapInstance.requestPurchase {\n    ios {\n        sku = "product_id"\n        quantity = 1\n    }\n    android {\n        skus = listOf("product_id")\n    }\n}\n\n// Finish transaction after validation\nkmpIapInstance.finishTransaction(\n    purchase = purchase.toPurchaseInput(),\n    isConsumable = true\n)\n'})}),"\n",(0,i.jsx)(e.h3,{id:"option-2-create-your-own-instance-recommended-for-testing",children:"Option 2: Create Your Own Instance (Recommended for Testing)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-kotlin",children:'import io.github.hyochan.kmpiap.KmpIAP\nimport io.github.hyochan.kmpiap.*\n\n// Create your own instance\nval kmpIAP = KmpIAP()\n\n// Initialize connection\nkmpIAP.initConnection()\n\n// Get products using DSL\nval products = kmpIAP.fetchProducts {\n    skus = listOf("product_id")\n    type = ProductQueryType.InApp\n}\n\n// Request purchase using DSL\nval purchase = kmpIAP.requestPurchase {\n    ios {\n        sku = "product_id"\n        quantity = 1\n    }\n    android {\n        skus = listOf("product_id")\n    }\n}\n\n// Finish transaction after validation\nkmpIAP.finishTransaction(\n    purchase = purchase.toPurchaseInput(),\n    isConsumable = true\n)\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-start-building-today",children:"\ud83d\ude80 Start Building Today"}),"\n",(0,i.jsxs)("div",{className:"next-steps-grid-intro",children:[(0,i.jsxs)("a",{href:"/docs/getting-started/installation",className:"next-step-card-intro gradient-purple",children:[(0,i.jsx)("div",{className:"next-step-icon-intro",children:"\ud83d\ude80"}),(0,i.jsx)("h3",{className:"next-step-title-intro",children:"Quick Start"}),(0,i.jsx)("p",{className:"next-step-desc-intro",children:"Get up and running with kmp-iap in minutes"}),(0,i.jsx)("span",{className:"next-step-arrow-intro",children:"\u2192"})]}),(0,i.jsxs)("a",{href:"/docs/guides/purchases",className:"next-step-card-intro gradient-pink",children:[(0,i.jsx)("div",{className:"next-step-icon-intro",children:"\ud83d\udcda"}),(0,i.jsx)("h3",{className:"next-step-title-intro",children:"Guides"}),(0,i.jsx)("p",{className:"next-step-desc-intro",children:"Step-by-step tutorials and best practices"}),(0,i.jsx)("span",{className:"next-step-arrow-intro",children:"\u2192"})]}),(0,i.jsxs)("a",{href:"/docs/api",className:"next-step-card-intro gradient-blue",children:[(0,i.jsx)("div",{className:"next-step-icon-intro",children:"\u26a1"}),(0,i.jsx)("h3",{className:"next-step-title-intro",children:"API Reference"}),(0,i.jsx)("p",{className:"next-step-desc-intro",children:"Complete API documentation with examples"}),(0,i.jsx)("span",{className:"next-step-arrow-intro",children:"\u2192"})]}),(0,i.jsxs)("a",{href:"/docs/examples/purchase-flow",className:"next-step-card-intro gradient-green",children:[(0,i.jsx)("div",{className:"next-step-icon-intro",children:"\ud83d\udcbb"}),(0,i.jsx)("h3",{className:"next-step-title-intro",children:"Examples"}),(0,i.jsx)("p",{className:"next-step-desc-intro",children:"Production-ready code samples"}),(0,i.jsx)("span",{className:"next-step-arrow-intro",children:"\u2192"})]})]}),"\n",(0,i.jsx)("style",{children:"\n.next-steps-grid-intro {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin: 2rem 0;\n}\n\n.next-step-card-intro {\n  display: block;\n  padding: 2rem;\n  border-radius: 12px;\n  color: white;\n  text-decoration: none;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n/* Light mode gradients */\n.gradient-purple {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n\n.gradient-pink {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);\n}\n\n.gradient-blue {\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n  box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);\n}\n\n.gradient-green {\n  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);\n  box-shadow: 0 4px 12px rgba(67, 233, 123, 0.3);\n}\n\n/* Dark mode - much darker backgrounds with subtle gradients */\n[data-theme='dark'] .gradient-purple {\n  background: linear-gradient(135deg, #4a3d7a 0%, #5a4685 100%);\n  box-shadow: 0 4px 12px rgba(74, 61, 122, 0.3);\n  border: 1px solid rgba(139, 159, 232, 0.3);\n}\n\n[data-theme='dark'] .gradient-pink {\n  background: linear-gradient(135deg, #7a3d6b 0%, #85465f 100%);\n  box-shadow: 0 4px 12px rgba(122, 61, 107, 0.3);\n  border: 1px solid rgba(244, 176, 250, 0.3);\n}\n\n[data-theme='dark'] .gradient-blue {\n  background: linear-gradient(135deg, #3d5a7a 0%, #466685 100%);\n  box-shadow: 0 4px 12px rgba(61, 90, 122, 0.3);\n  border: 1px solid rgba(127, 195, 254, 0.3);\n}\n\n[data-theme='dark'] .gradient-green {\n  background: linear-gradient(135deg, #3d7a5a 0%, #468566 100%);\n  box-shadow: 0 4px 12px rgba(61, 122, 90, 0.3);\n  border: 1px solid rgba(111, 238, 159, 0.3);\n}\n\n.next-step-card-intro:hover {\n  transform: translateY(-8px);\n  text-decoration: none;\n}\n\n.next-step-card-intro:hover {\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2) !important;\n}\n\n[data-theme='dark'] .next-step-card-intro:hover {\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.6) !important;\n  border: 1px solid rgba(255, 255, 255, 0.2) !important;\n}\n\n.next-step-icon-intro {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));\n}\n\n.next-step-title-intro {\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n  color: white !important;\n}\n\n/* Dark mode - high contrast white text */\n[data-theme='dark'] .next-step-title-intro {\n  color: #ffffff !important;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.8);\n  font-weight: 800;\n}\n\n.next-step-desc-intro {\n  font-size: 1rem;\n  opacity: 0.95;\n  margin-bottom: 1rem;\n  color: white !important;\n  line-height: 1.5;\n}\n\n/* Dark mode - high contrast white text for description */\n[data-theme='dark'] .next-step-desc-intro {\n  color: #f0f0f0 !important;\n  opacity: 1;\n  text-shadow: 0 1px 3px rgba(0,0,0,0.6);\n  font-weight: 500;\n}\n\n.next-step-arrow-intro {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: white !important;\n}\n\n/* Dark mode - high contrast white arrow */\n[data-theme='dark'] .next-step-arrow-intro {\n  color: #ffffff !important;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.8);\n  font-weight: 800;\n}\n\n/* Force white text on all child elements in dark mode */\n[data-theme='dark'] .next-step-card-intro * {\n  color: white !important;\n}\n\n/* Ensure links don't change color on hover */\n.next-step-card-intro:hover .next-step-title-intro,\n.next-step-card-intro:hover .next-step-desc-intro,\n.next-step-card-intro:hover .next-step-arrow-intro {\n  color: white !important;\n}\n"}),"\n",(0,i.jsx)(e.h2,{id:"-community--support",children:"\ud83e\udd1d Community & Support"}),"\n",(0,i.jsxs)(e.p,{children:["This project is maintained by ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan",children:"hyochan"}),"."]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GitHub Issues"}),": ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/issues",children:"Report bugs and feature requests"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Discussions"}),": ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/discussions",children:"Join community discussions"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Contributing"}),": ",(0,i.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/blob/main/CONTRIBUTING.md",children:"Contribute to the project"})]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.p,{children:["Ready to implement in-app purchases in your Kotlin Multiplatform app? Let's ",(0,i.jsx)(e.a,{href:"/docs/getting-started/installation",children:"get started"}),"! \ud83d\ude80"]})]})}function x(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},4693:(n,e,t)=>{t.d(e,{A:()=>i});const i=t.p+"assets/images/logo-18237b2181a421b39c557541663f0a1e.png"},5159:(n,e,t)=>{t.d(e,{A:()=>a});t(6540);var i=t(6025),r=t(7856),s=t(4848);function a({className:n="iapkit-banner",style:e}){const t=(0,i.A)("/img/iapkit-banner.gif");return(0,s.jsx)("div",{className:n,style:e,children:(0,s.jsx)("a",{href:r.V,target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await fetch(r.I,{method:"POST",mode:"no-cors"})}catch(n){console.error("Failed to track banner click:",n)}},style:{display:"block",textAlign:"center",marginBottom:"20px",textDecoration:"none",cursor:"pointer"},children:(0,s.jsx)("img",{src:t,alt:"IAPKit - In-App Purchase Made Simple",style:{height:"auto",borderRadius:"8px",objectFit:"contain"}})})})}},7856:(n,e,t)=>{t.d(e,{I:()=>r,V:()=>i});const i="https://iapkit.com",r="https://www.hyo.dev/api/ad-banner/cmjf0l20n0002249hjrwmgob3"},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function a(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);