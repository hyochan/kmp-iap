"use strict";(self.webpackChunkkmp_iap_docs=self.webpackChunkkmp_iap_docs||[]).push([[458],{7438:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var i=s(4848),r=s(8453);const t={title:"1.0.0-rc - Simplified API Design",authors:["hyochan"],tags:["release","api","rc1"]},a="kmp-iap v1.0.0-rc Released - Simplified API Design",c={permalink:"/kmp-iap/blog/2025/08/20/rc1-simplified-api",editUrl:"https://github.com/hyochan/kmp-iap/tree/main/docs/blog/2025-08-20-rc1-simplified-api.md",source:"@site/blog/2025-08-20-rc1-simplified-api.md",title:"1.0.0-rc - Simplified API Design",description:"We're excited to announce the release of kmp-iap v1.0.0-rc, which brings significant API improvements that make in-app purchases even easier to implement in your Kotlin Multiplatform projects.",date:"2025-08-20T00:00:00.000Z",formattedDate:"August 20, 2025",tags:[{label:"release",permalink:"/kmp-iap/blog/tags/release"},{label:"api",permalink:"/kmp-iap/blog/tags/api"},{label:"rc1",permalink:"/kmp-iap/blog/tags/rc-1"}],readingTime:2.465,hasTruncateMarker:!0,authors:[{name:"Hyo",title:"Maintainer of kmp-iap",url:"https://github.com/hyochan",imageURL:"https://github.com/hyochan.png",key:"hyochan"}],frontMatter:{title:"1.0.0-rc - Simplified API Design",authors:["hyochan"],tags:["release","api","rc1"]},unlisted:!1,prevItem:{title:"1.0.0-rc.4 - OpenIAP Monorepo Conversion & Alternative Billing",permalink:"/kmp-iap/blog/1.0.0-rc.4"},nextItem:{title:"1.0.0-beta - Comprehensive API Enhancements & OpenIAP Compliance",permalink:"/kmp-iap/blog/comprehensive-api-enhancements"}},o={authorsImageUrls:[void 0]},l=[{value:"\ud83c\udfaf Key Changes",id:"-key-changes",level:2},{value:"Simplified API Design",id:"simplified-api-design",level:3},{value:"\ud83d\udcdd API Changes",id:"-api-changes",level:2},{value:"1. requestProducts() - Direct Parameters",id:"1-requestproducts---direct-parameters",level:3},{value:"Before (v1.0.0-beta)",id:"before-v100-beta",level:4},{value:"After (v1.0.0-rc)",id:"after-v100-rc",level:4},{value:"2. requestPurchase() - Streamlined Parameters",id:"2-requestpurchase---streamlined-parameters",level:3},{value:"Before (v1.0.0-beta)",id:"before-v100-beta-1",level:4},{value:"After (v1.0.0-rc)",id:"after-v100-rc-1",level:4},{value:"\ud83d\ude80 Migration Guide",id:"-migration-guide",level:2},{value:"Update Your Gradle Dependencies",id:"update-your-gradle-dependencies",level:3},{value:"Code Migration",id:"code-migration",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"\u2728 Benefits",id:"-benefits",level:2},{value:"\ud83d\udd04 What&#39;s Next",id:"-whats-next",level:2},{value:"\ud83d\udcda Resources",id:"-resources",level:2},{value:"\ud83d\ude4f Feedback",id:"-feedback",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["We're excited to announce the release of ",(0,i.jsx)(n.strong,{children:"kmp-iap v1.0.0-rc"}),", which brings significant API improvements that make in-app purchases even easier to implement in your Kotlin Multiplatform projects."]}),"\n",(0,i.jsx)(n.h2,{id:"-key-changes",children:"\ud83c\udfaf Key Changes"}),"\n",(0,i.jsx)(n.h3,{id:"simplified-api-design",children:"Simplified API Design"}),"\n",(0,i.jsx)(n.p,{children:"We've removed unnecessary wrapper classes to make the API more intuitive and reduce boilerplate code. The core methods now accept parameters directly instead of requiring wrapper objects."}),"\n",(0,i.jsx)(n.h2,{id:"-api-changes",children:"\ud83d\udcdd API Changes"}),"\n",(0,i.jsx)(n.h3,{id:"1-requestproducts---direct-parameters",children:"1. requestProducts() - Direct Parameters"}),"\n",(0,i.jsx)(n.h4,{id:"before-v100-beta",children:"Before (v1.0.0-beta)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'val products = kmpIapInstance.requestProducts(\n    ProductRequest(\n        skus = listOf("product_id"),\n        type = ProductType.INAPP\n    )\n)\n'})}),"\n",(0,i.jsx)(n.h4,{id:"after-v100-rc",children:"After (v1.0.0-rc)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'val products = kmpIapInstance.requestProducts(\n    skus = listOf("product_id"),\n    type = ProductType.INAPP\n)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-requestpurchase---streamlined-parameters",children:"2. requestPurchase() - Streamlined Parameters"}),"\n",(0,i.jsx)(n.h4,{id:"before-v100-beta-1",children:"Before (v1.0.0-beta)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'val purchase = kmpIapInstance.requestPurchase(\n    RequestPurchaseProps(\n        ios = RequestPurchaseIosProps(\n            sku = "product_id",\n            quantity = 1\n        ),\n        android = RequestPurchaseAndroidProps(\n            skus = listOf("product_id")\n        )\n    )\n)\n'})}),"\n",(0,i.jsx)(n.h4,{id:"after-v100-rc-1",children:"After (v1.0.0-rc)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// Cross-platform purchase with DSL\nval purchase = kmpIapInstance.requestPurchase {\n    ios {\n        sku = "product_id"\n        quantity = 1\n    }\n    android {\n        skus = listOf("product_id")\n    }\n}\n\n// Single platform purchase\nval iosPurchase = kmpIapInstance.requestPurchase {\n    ios {\n        sku = "product_id"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-migration-guide",children:"\ud83d\ude80 Migration Guide"}),"\n",(0,i.jsx)(n.h3,{id:"update-your-gradle-dependencies",children:"Update Your Gradle Dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'dependencies {\n    implementation("io.github.hyochan:kmp-iap:1.0.0-rc.2")\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"code-migration",children:"Code Migration"}),"\n",(0,i.jsx)(n.p,{children:"The migration is straightforward - simply remove the wrapper classes:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["For ",(0,i.jsx)(n.code,{children:"requestProducts()"})]}),": Remove ",(0,i.jsx)(n.code,{children:"ProductRequest"})," wrapper"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["For ",(0,i.jsx)(n.code,{children:"requestPurchase()"})]}),": Remove ",(0,i.jsx)(n.code,{children:"RequestPurchaseProps"})," wrapper and pass parameters directly"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.p,{children:"Here's a complete example showing the new simplified API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'import io.github.hyochan.kmpiap.kmpIapInstance\nimport io.github.hyochan.kmpiap.*\n\nclass StoreViewModel {\n    suspend fun loadProducts() {\n        // Initialize connection\n        val connected = kmpIapInstance.initConnection()\n        if (!connected) return\n\n        // Load products - no wrapper needed\n        val products = kmpIapInstance.requestProducts(\n            skus = listOf("premium", "coins_100", "coins_500"),\n            type = ProductType.INAPP\n        )\n\n        // Load subscriptions\n        val subscriptions = kmpIapInstance.requestProducts(\n            skus = listOf("monthly_sub", "yearly_sub"),\n            type = ProductType.SUBS\n        )\n    }\n\n    suspend fun purchaseProduct(productId: String) {\n        // Simple purchase - just pass the SKU\n        val purchase = kmpIapInstance.requestPurchase(sku = productId)\n\n        // Handle the purchase\n        kmpIapInstance.finishTransaction(\n            purchase = purchase,\n            isConsumable = true\n        )\n    }\n\n    suspend fun purchaseWithOptions(productId: String) {\n        // Purchase with platform-specific options\n        val purchase = kmpIapInstance.requestPurchase(\n            sku = productId,\n            ios = RequestPurchaseIosProps(\n                sku = productId,\n                quantity = 1,\n                appAccountToken = "user_token"\n            ),\n            android = RequestPurchaseAndroidProps(\n                skus = listOf(productId),\n                obfuscatedAccountIdAndroid = "user_123"\n            )\n        )\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-benefits",children:"\u2728 Benefits"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cleaner Code"}),": Less boilerplate, more readable code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Easier to Use"}),": Direct parameter passing is more intuitive"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Better IDE Support"}),": Better auto-completion and parameter hints"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backward Compatible"}),": Platform-specific options still available when needed"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-whats-next",children:"\ud83d\udd04 What's Next"}),"\n",(0,i.jsx)(n.p,{children:"This RC1 release brings us closer to the stable 1.0.0 release. We're focusing on:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Final testing and bug fixes"}),"\n",(0,i.jsx)(n.li,{children:"Documentation improvements"}),"\n",(0,i.jsx)(n.li,{children:"Community feedback integration"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-resources",children:"\ud83d\udcda Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/api/core-methods",children:"API Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/getting-started/quickstart",children:"Getting Started Guide"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap",children:"GitHub Repository"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.openiap.dev",children:"OpenIAP Specification"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-feedback",children:"\ud83d\ude4f Feedback"}),"\n",(0,i.jsxs)(n.p,{children:["Please try out the new API and let us know your feedback! Report any issues on our ",(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/issues",children:"GitHub Issues"})," page."]}),"\n",(0,i.jsx)(n.p,{children:"Happy coding! \ud83c\udf89"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);