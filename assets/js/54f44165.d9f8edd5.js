"use strict";(self.webpackChunkkmp_iap_docs=self.webpackChunkkmp_iap_docs||[]).push([[7924],{5159:(n,e,i)=>{i.d(e,{A:()=>r});i(6540);var s=i(6025),l=i(7856),o=i(4848);function r({className:n="iapkit-banner",style:e}){const i=(0,s.A)("/img/iapkit-banner.gif");return(0,o.jsx)("div",{className:n,style:e,children:(0,o.jsx)("a",{href:l.V,target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await fetch(l.I,{method:"POST",mode:"no-cors"})}catch(n){console.error("Failed to track banner click:",n)}},style:{display:"block",textAlign:"center",marginBottom:"20px",textDecoration:"none",cursor:"pointer"},children:(0,o.jsx)("img",{src:i,alt:"IAPKit - In-App Purchase Made Simple",style:{height:"auto",borderRadius:"8px",objectFit:"contain"}})})})}},5917:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var s=i(4848),l=i(8453),o=i(5159);const r={title:"Installation & Setup",sidebar_label:"Installation",sidebar_position:1},t="Installation & Setup",d={id:"getting-started/installation",title:"Installation & Setup",description:"Learn how to install and configure kmp-iap in your Kotlin Multiplatform project.",source:"@site/docs/getting-started/installation.md",sourceDirName:"getting-started",slug:"/getting-started/installation",permalink:"/kmp-iap/docs/getting-started/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/hyochan/kmp-iap/tree/main/docs/docs/getting-started/installation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Installation & Setup",sidebar_label:"Installation",sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Introduction",permalink:"/kmp-iap/docs/intro"},next:{title:"iOS Setup",permalink:"/kmp-iap/docs/getting-started/ios-setup"}},a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Package Installation",id:"package-installation",level:2},{value:"In your shared module&#39;s <code>build.gradle.kts</code>",id:"in-your-shared-modules-buildgradlekts",level:3},{value:"Platform Configuration",id:"platform-configuration",level:2},{value:"iOS Configuration",id:"ios-configuration",level:3},{value:"Step 1: Choose Your Dependency Manager",id:"step-1-choose-your-dependency-manager",level:4},{value:"Step 2: Enable In-App Purchase Capability",id:"step-2-enable-in-app-purchase-capability",level:4},{value:"Step 3: Configure Info.plist (iOS 14+)",id:"step-3-configure-infoplist-ios-14",level:4},{value:"Step 4: StoreKit Configuration (Optional)",id:"step-4-storekit-configuration-optional",level:4},{value:"Troubleshooting iOS Setup",id:"troubleshooting-ios-setup",level:4},{value:"Android Configuration",id:"android-configuration",level:3},{value:"Update build.gradle",id:"update-buildgradle",level:4},{value:"Add Billing Client dependency",id:"add-billing-client-dependency",level:4},{value:"Permissions",id:"permissions",level:4},{value:"Configuration",id:"configuration",level:2},{value:"App Store Connect (iOS)",id:"app-store-connect-ios",level:3},{value:"Google Play Console (Android)",id:"google-play-console-android",level:3},{value:"Verification",id:"verification",level:2},{value:"Initialize the Plugin",id:"initialize-the-plugin",level:3},{value:"Test Connection",id:"test-connection",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"iOS Common Issues",id:"ios-common-issues",level:3},{value:"Linking Error: Undefined symbol OpenIapModule",id:"linking-error-undefined-symbol-openiapmodule",level:4},{value:"Permission Denied",id:"permission-denied",level:4},{value:"Products Not Loading",id:"products-not-loading",level:4},{value:"Android Common Issues",id:"android-common-issues",level:3},{value:"Billing Unavailable",id:"billing-unavailable",level:4},{value:"Products Not Found",id:"products-not-found",level:4}];function h(n){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"installation--setup",children:"Installation & Setup"}),"\n",(0,s.jsx)(o.A,{}),"\n",(0,s.jsx)(e.p,{children:"Learn how to install and configure kmp-iap in your Kotlin Multiplatform project."}),"\n",(0,s.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(e.p,{children:"Before installing kmp-iap, ensure you have:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Kotlin 2.1.10 or higher"}),"\n",(0,s.jsx)(e.li,{children:"Gradle 8.0 or higher"}),"\n",(0,s.jsx)(e.li,{children:"Active Apple Developer account (for iOS)"}),"\n",(0,s.jsx)(e.li,{children:"Active Google Play Developer account (for Android)"}),"\n",(0,s.jsx)(e.li,{children:"Physical device for testing (simulators/emulators have limited support)"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"package-installation",children:"Package Installation"}),"\n",(0,s.jsx)(e.p,{children:"Add kmp-iap to your project's dependencies:"}),"\n",(0,s.jsxs)(e.h3,{id:"in-your-shared-modules-buildgradlekts",children:["In your shared module's ",(0,s.jsx)(e.code,{children:"build.gradle.kts"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'val commonMain by getting {\n    dependencies {\n        implementation("io.github.hyochan:kmp-iap:1.3.6")\n    }\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"Or if using version catalogs:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-toml",children:'# gradle/libs.versions.toml\n[versions]\nkmp-iap = "1.3.6"\n\n[libraries]\nkmp-iap = { module = "io.github.hyochan:kmp-iap", version.ref = "kmp-iap" }\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:"// build.gradle.kts\ndependencies {\n    implementation(libs.kmp.iap)\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"platform-configuration",children:"Platform Configuration"}),"\n",(0,s.jsx)(e.h3,{id:"ios-configuration",children:"iOS Configuration"}),"\n",(0,s.jsxs)(e.p,{children:["kmp-iap uses the ",(0,s.jsx)(e.a,{href:"https://github.com/hyodotdev/openiap",children:"OpenIAP framework"})," on iOS. You need to add it to your iOS app using ",(0,s.jsx)(e.strong,{children:"either CocoaPods or Swift Package Manager"}),"."]}),"\n",(0,s.jsx)(e.admonition,{title:"Quick Decision Guide",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use CocoaPods"})," if you want automatic dependency management through Gradle"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use SPM"})," if you prefer modern iOS tooling and want to avoid CocoaPods"]}),"\n"]})}),"\n",(0,s.jsx)(e.h4,{id:"step-1-choose-your-dependency-manager",children:"Step 1: Choose Your Dependency Manager"}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"Option A: CocoaPods (Recommended)"})}),(0,s.jsx)(e.p,{children:"CocoaPods is automatically managed by the Kotlin CocoaPods plugin."}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Ensure your shared module has the CocoaPods plugin:"})}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'// shared/build.gradle.kts or composeApp/build.gradle.kts\nplugins {\n    kotlin("multiplatform")\n    kotlin("native.cocoapods")\n}\n\nkotlin {\n    cocoapods {\n        version = "1.0"\n        ios.deploymentTarget = "15.0"\n        framework {\n            baseName = "ComposeApp" // or "shared"\n            isStatic = true\n        }\n    }\n}\n'})}),(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Run pod install:"})}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd iosApp\npod install\n"})}),(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Important:"})," Always open ",(0,s.jsx)(e.code,{children:".xcworkspace"}),", not ",(0,s.jsx)(e.code,{children:".xcodeproj"}),":"]}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"open iosApp.xcworkspace\n"})}),(0,s.jsx)(e.p,{children:"The OpenIAP dependency will be automatically included."})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"Option B: Swift Package Manager"})}),(0,s.jsx)(e.p,{children:"If you prefer SPM or don't want to use CocoaPods:"}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["In Xcode, go to ",(0,s.jsx)(e.strong,{children:"File"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Add Package Dependencies"})]}),"\n",(0,s.jsxs)(e.li,{children:["Enter repository URL: ",(0,s.jsx)(e.code,{children:"https://github.com/hyodotdev/openiap.git"})]}),"\n",(0,s.jsxs)(e.li,{children:["Select version ",(0,s.jsx)(e.strong,{children:"1.2.26"}),' (or "Up to Next Major" from 1.2.26)']}),"\n",(0,s.jsx)(e.li,{children:"Add to your iOS app target"}),"\n",(0,s.jsxs)(e.li,{children:["Verify in ",(0,s.jsx)(e.strong,{children:"Build Phases"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Link Binary with Libraries"})]}),"\n"]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Note:"})," With SPM, don't use the CocoaPods plugin. You'll manually update OpenIAP when kmp-iap updates."]})]}),"\n",(0,s.jsx)(e.h4,{id:"step-2-enable-in-app-purchase-capability",children:"Step 2: Enable In-App Purchase Capability"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Open your project in Xcode"}),"\n",(0,s.jsx)(e.li,{children:"Select your project in the navigator"}),"\n",(0,s.jsx)(e.li,{children:"Select your target"}),"\n",(0,s.jsxs)(e.li,{children:["Go to ",(0,s.jsx)(e.strong,{children:"Signing & Capabilities"})," tab"]}),"\n",(0,s.jsxs)(e.li,{children:["Click ",(0,s.jsx)(e.strong,{children:"+ Capability"})," and add ",(0,s.jsx)(e.strong,{children:"In-App Purchase"})]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"step-3-configure-infoplist-ios-14",children:"Step 3: Configure Info.plist (iOS 14+)"}),"\n",(0,s.jsxs)(e.p,{children:["Add the following to your ",(0,s.jsx)(e.code,{children:"iosApp/Info.plist"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:"<key>LSApplicationQueriesSchemes</key>\n<array>\n    <string>itms-apps</string>\n</array>\n"})}),"\n",(0,s.jsx)(e.h4,{id:"step-4-storekit-configuration-optional",children:"Step 4: StoreKit Configuration (Optional)"}),"\n",(0,s.jsxs)(e.p,{children:["For testing with StoreKit 2, create a ",(0,s.jsx)(e.code,{children:".storekit"})," configuration file:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["In Xcode, go to ",(0,s.jsx)(e.strong,{children:"File"})," \u2192 ",(0,s.jsx)(e.strong,{children:"New"})," \u2192 ",(0,s.jsx)(e.strong,{children:"File"})]}),"\n",(0,s.jsxs)(e.li,{children:["Choose ",(0,s.jsx)(e.strong,{children:"StoreKit Configuration File"})]}),"\n",(0,s.jsx)(e.li,{children:"Add your products for testing"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"troubleshooting-ios-setup",children:"Troubleshooting iOS Setup"}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsxs)("strong",{children:["Error: Undefined symbol '",(0,s.jsx)(e.em,{children:"OBJC_CLASS"}),"$__TtC7OpenIAP13OpenIapModule'"]})}),(0,s.jsx)(e.p,{children:"This error means the OpenIAP framework isn't linked. Fix it by:"}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"If using CocoaPods:"})}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Run ",(0,s.jsx)(e.code,{children:"cd iosApp && pod install"})]}),"\n",(0,s.jsxs)(e.li,{children:["Open ",(0,s.jsx)(e.code,{children:".xcworkspace"})," (NOT ",(0,s.jsx)(e.code,{children:".xcodeproj"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:["Clean build folder: ",(0,s.jsx)(e.strong,{children:"Product"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Clean Build Folder"})]}),"\n",(0,s.jsx)(e.li,{children:"Rebuild"}),"\n"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"If using SPM:"})}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Verify OpenIAP appears in ",(0,s.jsx)(e.strong,{children:"Build Phases"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Link Binary with Libraries"})]}),"\n",(0,s.jsx)(e.li,{children:"Clean and rebuild"}),"\n"]}),(0,s.jsxs)(e.p,{children:["See ",(0,s.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/issues/21",children:"Issue #21"})," for more details."]})]}),"\n",(0,s.jsx)(e.h3,{id:"android-configuration",children:"Android Configuration"}),"\n",(0,s.jsx)(e.h4,{id:"update-buildgradle",children:"Update build.gradle"}),"\n",(0,s.jsxs)(e.p,{children:["Ensure your ",(0,s.jsx)(e.code,{children:"androidApp/build.gradle.kts"})," has the minimum SDK version:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:"android {\n    compileSdk = 34\n\n    defaultConfig {\n        minSdk = 24  // Required minimum\n        targetSdk = 34\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h4,{id:"add-billing-client-dependency",children:"Add Billing Client dependency"}),"\n",(0,s.jsx)(e.p,{children:"The library includes the billing client, but ensure ProGuard rules are configured if using ProGuard:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-proguard",children:"# In-App Purchase\n-keep class com.android.billingclient.** { *; }\n-keep class io.github.hyochan.kmpiap.** { *; }\n-keepattributes *Annotation*\n"})}),"\n",(0,s.jsx)(e.h4,{id:"permissions",children:"Permissions"}),"\n",(0,s.jsx)(e.p,{children:"The library automatically adds the required billing permission to your manifest."}),"\n",(0,s.jsx)(e.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(e.h3,{id:"app-store-connect-ios",children:"App Store Connect (iOS)"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Sign in to ",(0,s.jsx)(e.a,{href:"https://appstoreconnect.apple.com",children:"App Store Connect"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Select your app"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Monetization"})," \u2192 ",(0,s.jsx)(e.strong,{children:"In-App Purchases"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Create your products:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Consumable"}),": Can be purchased multiple times"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Non-Consumable"}),": One-time purchase"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Auto-Renewable Subscription"}),": Recurring payments"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Non-Renewing Subscription"}),": Fixed duration"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Fill in required fields:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Reference Name (internal use)"}),"\n",(0,s.jsx)(e.li,{children:"Product ID (used in code)"}),"\n",(0,s.jsx)(e.li,{children:"Pricing"}),"\n",(0,s.jsx)(e.li,{children:"Localizations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Submit for review with your app"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"google-play-console-android",children:"Google Play Console (Android)"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Sign in to ",(0,s.jsx)(e.a,{href:"https://play.google.com/console",children:"Google Play Console"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Select your app"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Monetization"})," \u2192 ",(0,s.jsx)(e.strong,{children:"In-app products"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Create products:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"One-time products"}),": Consumable or non-consumable"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Subscriptions"}),": Recurring payments"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Configure product details:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Product ID (used in code)"}),"\n",(0,s.jsx)(e.li,{children:"Name and description"}),"\n",(0,s.jsx)(e.li,{children:"Price"}),"\n",(0,s.jsx)(e.li,{children:"Status (Active)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Save and activate products"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"verification",children:"Verification"}),"\n",(0,s.jsx)(e.h3,{id:"initialize-the-plugin",children:"Initialize the Plugin"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'import io.github.hyochan.kmpiap.*\nimport io.github.hyochan.kmpiap.types.*\nimport kotlinx.coroutines.*\n\nclass IAPManager {\n    private val kmpIAP = KmpIAP()\n    private val scope = CoroutineScope(Dispatchers.Main)\n\n    fun initialize() {\n        scope.launch {\n            try {\n                kmpIAP.initConnection()\n                println("IAP connection initialized successfully")\n            } catch (e: PurchaseError) {\n                println("Failed to initialize IAP connection: $e")\n            }\n        }\n    }\n\n    fun dispose() {\n        scope.launch {\n            kmpIAP.endConnection()\n        }\n        scope.cancel()\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"test-connection",children:"Test Connection"}),"\n",(0,s.jsx)(e.p,{children:"Test your setup with this verification code:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'suspend fun testConnection() {\n    import io.github.hyochan.kmpiap.kmpIapInstance\n\n    try {\n        // Initialize connection\n        kmpIapInstance.initConnection()\n        println("Connection initialized")\n\n        // Connection successful, test product fetching\n        val products = kmpIapInstance.fetchProducts {\n            skus = listOf("test_product_id")\n            type = ProductQueryType.InApp\n        }\n        println("Found ${products.size} products")\n\n    } catch (e: PurchaseError) {\n        println("Connection test failed: $e")\n    } finally {\n        kmpIapInstance.endConnection()\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(e.p,{children:"Now that you have kmp-iap installed and configured:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/getting-started/ios-setup",children:(0,s.jsx)(e.strong,{children:"iOS Setup Guide"})})," - iOS specific configuration"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/getting-started/android-setup",children:(0,s.jsx)(e.strong,{children:"Android Setup Guide"})})," - Android specific configuration"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/guides/purchases",children:(0,s.jsx)(e.strong,{children:"Basic Implementation"})})," - Learn the fundamentals"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(e.h3,{id:"ios-common-issues",children:"iOS Common Issues"}),"\n",(0,s.jsx)(e.h4,{id:"linking-error-undefined-symbol-openiapmodule",children:"Linking Error: Undefined symbol OpenIapModule"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Symptom:"})," Build fails with ",(0,s.jsx)(e.code,{children:'Undefined symbols for architecture arm64: "_OBJC_CLASS_$__TtC7OpenIAP13OpenIapModule"'})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Solution:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CocoaPods:"})," Run ",(0,s.jsx)(e.code,{children:"pod install"})," and open ",(0,s.jsx)(e.code,{children:".xcworkspace"})," (not ",(0,s.jsx)(e.code,{children:".xcodeproj"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SPM:"})," Verify OpenIAP is in Build Phases \u2192 Link Binary with Libraries"]}),"\n",(0,s.jsx)(e.li,{children:"Clean build folder and rebuild"}),"\n",(0,s.jsxs)(e.li,{children:["See ",(0,s.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/issues/21",children:"Issue #21"})," for details"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"permission-denied",children:"Permission Denied"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Ensure In-App Purchase capability is enabled"}),"\n",(0,s.jsx)(e.li,{children:"Verify your Apple Developer account has active agreements"}),"\n",(0,s.jsx)(e.li,{children:"Check that products are configured in App Store Connect"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"products-not-loading",children:"Products Not Loading"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Products must be submitted for review (at least once)"}),"\n",(0,s.jsx)(e.li,{children:"Wait 24 hours after creating products"}),"\n",(0,s.jsx)(e.li,{children:"Verify product IDs match exactly"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"android-common-issues",children:"Android Common Issues"}),"\n",(0,s.jsx)(e.h4,{id:"billing-unavailable",children:"Billing Unavailable"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Test on a real device (not emulator)"}),"\n",(0,s.jsx)(e.li,{children:"Ensure Google Play is installed and up-to-date"}),"\n",(0,s.jsx)(e.li,{children:"Verify app is signed with the same key as uploaded to Play Console"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"products-not-found",children:"Products Not Found"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Products must be active in Play Console"}),"\n",(0,s.jsx)(e.li,{children:"App must be published (at least to internal testing)"}),"\n",(0,s.jsx)(e.li,{children:"Wait 2-3 hours after creating products"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:["Need help? Check our ",(0,s.jsx)(e.a,{href:"/docs/guides/troubleshooting",children:"troubleshooting guide"})," or ",(0,s.jsx)(e.a,{href:"https://github.com/hyochan/kmp-iap/issues",children:"open an issue"})," on GitHub."]})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},7856:(n,e,i)=>{i.d(e,{I:()=>l,V:()=>s});const s="https://iapkit.com",l="https://www.hyo.dev/api/ad-banner/cmjf0l20n0002249hjrwmgob3"},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>t});var s=i(6540);const l={},o=s.createContext(l);function r(n){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);