"use strict";(self.webpackChunkkmp_iap_docs=self.webpackChunkkmp_iap_docs||[]).push([[4882],{4685:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>t});var i=s(4848),a=s(8453);const l={slug:"release-1.2.1",title:"1.2.1 - OpenIAP Updates & DSL Enhancements",authors:["hyochan"],tags:["release","patch"],description:"KMP-IAP 1.2.1 updates OpenIAP dependencies and adds DSL improvements.",date:new Date("2025-12-24T00:00:00.000Z")},r="KMP-IAP 1.2.1",o={permalink:"/kmp-iap/blog/release-1.2.1",editUrl:"https://github.com/hyochan/kmp-iap/tree/main/docs/blog/2025-12-24-release-1.2.1.md",source:"@site/blog/2025-12-24-release-1.2.1.md",title:"1.2.1 - OpenIAP Updates & DSL Enhancements",description:"KMP-IAP 1.2.1 updates OpenIAP dependencies and adds DSL improvements.",date:"2025-12-24T00:00:00.000Z",formattedDate:"December 24, 2025",tags:[{label:"release",permalink:"/kmp-iap/blog/tags/release"},{label:"patch",permalink:"/kmp-iap/blog/tags/patch"}],readingTime:1.83,hasTruncateMarker:!0,authors:[{name:"Hyo",title:"Maintainer of kmp-iap",url:"https://github.com/hyochan",imageURL:"https://github.com/hyochan.png",key:"hyochan"}],frontMatter:{slug:"release-1.2.1",title:"1.2.1 - OpenIAP Updates & DSL Enhancements",authors:["hyochan"],tags:["release","patch"],description:"KMP-IAP 1.2.1 updates OpenIAP dependencies and adds DSL improvements.",date:"2025-12-24T00:00:00.000Z"},unlisted:!1,prevItem:{title:"1.2.2 - External Payments Support (Japan)",permalink:"/kmp-iap/blog/release-1.2.2"},nextItem:{title:"1.2.0 - Billing Programs API & One-Time Product Discounts",permalink:"/kmp-iap/blog/release-1.2.0"}},d={authorsImageUrls:[void 0]},t=[{value:"What&#39;s New",id:"whats-new",level:2},{value:"OpenIAP Dependency Updates",id:"openiap-dependency-updates",level:3},{value:"DSL Improvements",id:"dsl-improvements",level:3},{value:"<code>advancedCommerceData</code> Support",id:"advancedcommercedata-support",level:3},{value:"Billing Programs API (Stub)",id:"billing-programs-api-stub",level:3},{value:"OpenIAP Versions",id:"openiap-versions",level:2},{value:"Installation",id:"installation",level:2},{value:"Gradle (Kotlin DSL)",id:"gradle-kotlin-dsl",level:3},{value:"Version Catalog (libs.versions.toml)",id:"version-catalog-libsversionstoml",level:3},{value:"CocoaPods",id:"cocoapods",level:3},{value:"What&#39;s New in 1.2.x",id:"whats-new-in-12x",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["KMP-IAP 1.2.1 is a ",(0,i.jsx)(n.strong,{children:"patch release"})," that updates OpenIAP dependencies and adds DSL improvements for better developer experience."]}),"\n",(0,i.jsx)(n.h2,{id:"whats-new",children:"What's New"}),"\n",(0,i.jsx)(n.h3,{id:"openiap-dependency-updates",children:"OpenIAP Dependency Updates"}),"\n",(0,i.jsx)(n.p,{children:"Updated to the latest OpenIAP versions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-apple"}),": 1.3.7 (was 1.3.5)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-google"}),": 1.3.15 (was 1.3.14)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-gql"}),": 1.3.8 (was 1.3.5)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"dsl-improvements",children:"DSL Improvements"}),"\n",(0,i.jsxs)(n.p,{children:["Added ",(0,i.jsx)(n.code,{children:"google {}"})," and ",(0,i.jsx)(n.code,{children:"apple {}"})," DSL aliases for platform-specific purchase configurations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// Before: Only android {} and ios {} were available\nval purchaseProps = purchase {\n    type = ProductType.InApp\n    ios { sku = "com.example.premium" }\n    android { skus = listOf("premium_upgrade") }\n}\n\n// After: google {} and apple {} are now available as aliases\nval purchaseProps = purchase {\n    type = ProductType.InApp\n    apple { sku = "com.example.premium" }  // alias for ios {}\n    google { skus = listOf("premium_upgrade") }  // alias for android {}\n}\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"advancedcommercedata-support",children:[(0,i.jsx)(n.code,{children:"advancedCommerceData"})," Support"]}),"\n",(0,i.jsxs)(n.p,{children:["Added ",(0,i.jsx)(n.code,{children:"advancedCommerceData"})," property to ",(0,i.jsx)(n.code,{children:"IosOptionsBuilder"})," for StoreKit 2's ",(0,i.jsx)(n.code,{children:"Product.PurchaseOption.custom"})," API (iOS 18+):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'val purchaseProps = purchase {\n    type = ProductType.InApp\n    apple {\n        sku = "com.example.premium"\n        advancedCommerceData = "campaign_summer_2025"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"billing-programs-api-stub",children:"Billing Programs API (Stub)"}),"\n",(0,i.jsx)(n.p,{children:"Added interface methods for Billing Programs API (Android 8.2.0+):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"isBillingProgramAvailableAndroid(program)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"createBillingProgramReportingDetailsAndroid(program)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"launchExternalLinkAndroid(params)"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," These methods are currently stubs that throw ",(0,i.jsx)(n.code,{children:"FeatureNotSupported"}),". Full implementation will be available when ",(0,i.jsx)(n.code,{children:"openiap-google"})," updates to Billing Library 8.2.0+."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"openiap-versions",children:"OpenIAP Versions"}),"\n",(0,i.jsx)(n.p,{children:"Current OpenIAP versions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-apple"}),": 1.3.7"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-google"}),": 1.3.15"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"openiap-gql"}),": 1.3.8"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.h3,{id:"gradle-kotlin-dsl",children:"Gradle (Kotlin DSL)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",children:'// shared/build.gradle.kts\nkotlin {\n    sourceSets {\n        commonMain.dependencies {\n            implementation("io.github.hyochan:kmp-iap:1.2.1")\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"version-catalog-libsversionstoml",children:"Version Catalog (libs.versions.toml)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[versions]\nkmp-iap = "1.2.1"\n\n[libraries]\nkmp-iap = { module = "io.github.hyochan:kmp-iap", version.ref = "kmp-iap" }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cocoapods",children:"CocoaPods"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ruby",children:"pod 'kmp-iap', '~> 1.2.1'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"whats-new-in-12x",children:"What's New in 1.2.x"}),"\n",(0,i.jsxs)(n.p,{children:["If you're upgrading from 1.0.x or 1.1.x, check out the ",(0,i.jsx)(n.a,{href:"/blog/release-1.2.0",children:"1.2.0 release notes"})," for the full list of new features including:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Billing Programs API"})," (Android 8.2.0+) - External billing support"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"One-Time Product Discounts"})," (Android 7.0+) - Discount and offer support"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purchase Suspension Status"})," (Android 8.1.0+) - Payment issue detection"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/blog/release-1.2.0",children:"1.2.0 Release Notes"})," - Full feature release notes"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/api/core-methods",children:"API Reference - Core Methods"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/releases/tag/1.2.1",children:"GitHub Release"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Questions or feedback? Reach out via ",(0,i.jsx)(n.a,{href:"https://github.com/hyochan/kmp-iap/issues",children:"GitHub Issues"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const a={},l=i.createContext(a);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);